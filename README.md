# IKFast Online Generator

ğŸ¤– åœ¨çº¿ç”Ÿæˆ IKFast é€†è¿åŠ¨å­¦æ±‚è§£å™¨çš„ Web å¹³å°

[![GitHub Pages](https://img.shields.io/badge/GitHub-Pages-blue)](https://pages.github.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## ğŸ“– é¡¹ç›®ç®€ä»‹

IKFast Online Generator æ˜¯ä¸€ä¸ªé›¶æœåŠ¡å™¨æˆæœ¬çš„ Web åº”ç”¨ï¼Œè®©æœºå™¨äººå¼€å‘è€…èƒ½å¤Ÿé€šè¿‡æµè§ˆå™¨è½»æ¾ç”Ÿæˆ IKFast é€†è¿åŠ¨å­¦æ±‚è§£å™¨ã€‚æ— éœ€æœ¬åœ°å®‰è£… OpenRAVE æˆ–é…ç½®å¤æ‚çš„ä¾èµ–ç¯å¢ƒï¼Œåªéœ€ä¸Šä¼  URDF æ–‡ä»¶ï¼Œå³å¯è‡ªåŠ¨ç”Ÿæˆå¯ç”¨äº MoveIt çš„ C++ æ±‚è§£å™¨ä»£ç ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸŒ **çº¯æµè§ˆå™¨æ“ä½œ** - æ— éœ€æœ¬åœ°ç¯å¢ƒé…ç½®
- ğŸ’° **é›¶æœåŠ¡å™¨æˆæœ¬** - å®Œå…¨åŸºäº GitHub å…è´¹æœåŠ¡
- ğŸ”’ **å®‰å…¨éš”ç¦»** - Docker å®¹å™¨ä¸­å¤„ç†æ‰€æœ‰ç”¨æˆ·æ–‡ä»¶
- ğŸ“Š **å®æ—¶ç›‘æ§** - æŸ¥çœ‹ç”Ÿæˆè¿‡ç¨‹çš„è¯¦ç»†æ—¥å¿—
- ğŸš€ **å¿«é€Ÿç”Ÿæˆ** - è‡ªåŠ¨åŒ–çš„å®Œæ•´å·¥å…·é“¾
- ğŸ“¦ **å³æ—¶ä¸‹è½½** - ç”Ÿæˆå®Œæˆåç«‹å³è·å–æ±‚è§£å™¨ä»£ç 

### ğŸ—ï¸ æŠ€æœ¯æ¶æ„

- **å‰ç«¯**: åŸç”Ÿ JavaScript (ES6+), HTML5, CSS3
- **æ‰˜ç®¡**: GitHub Pages (é™æ€ç«™ç‚¹)
- **åç«¯**: GitHub Actions (å·¥ä½œæµè‡ªåŠ¨åŒ–)
- **æ‰§è¡Œç¯å¢ƒ**: Docker (fishros2/openrave é•œåƒ)
- **API**: GitHub REST API v3

## ğŸ“ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ web/                          # å‰ç«¯é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html               # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ style.css                # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ config.js                # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ main.js                  # ä¸»å…¥å£
â”‚   â”œâ”€â”€ auth.js                  # è®¤è¯ç®¡ç†
â”‚   â”œâ”€â”€ github-api.js            # GitHub API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ file-upload.js           # æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
â”‚   â”œâ”€â”€ link-info.js             # é“¾æ¥ä¿¡æ¯ç»„ä»¶
â”‚   â”œâ”€â”€ parameter-config.js      # å‚æ•°é…ç½®ç»„ä»¶
â”‚   â”œâ”€â”€ workflow-trigger.js      # å·¥ä½œæµè§¦å‘ç»„ä»¶
â”‚   â”œâ”€â”€ status-monitor.js        # çŠ¶æ€ç›‘æ§ç»„ä»¶
â”‚   â”œâ”€â”€ log-viewer.js            # æ—¥å¿—æŸ¥çœ‹å™¨
â”‚   â”œâ”€â”€ download.js              # ä¸‹è½½ç»„ä»¶
â”‚   â”œâ”€â”€ error-handler.js         # é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ file-verification.js     # æ–‡ä»¶éªŒè¯
â”‚   â””â”€â”€ quota-warning.js         # é…é¢è­¦å‘Š
â”œâ”€â”€ jobs/                        # ä»»åŠ¡æ–‡ä»¶å­˜å‚¨
â”‚   â””â”€â”€ current/                 # å½“å‰ä»»åŠ¡
â”‚       â””â”€â”€ robot.urdf           # ç”¨æˆ·ä¸Šä¼ çš„ URDF æ–‡ä»¶
â”œâ”€â”€ outputs/                     # è¾“å‡ºæ–‡ä»¶å­˜å‚¨
â”‚   â”œâ”€â”€ ikfast_solver.cpp        # ç”Ÿæˆçš„æ±‚è§£å™¨ä»£ç 
â”‚   â””â”€â”€ build.log                # æ„å»ºæ—¥å¿—
â”œâ”€â”€ examples/                    # ç¤ºä¾‹ URDF æ–‡ä»¶
â”œâ”€â”€ test/                        # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ikfast.yml           # GitHub Actions å·¥ä½œæµ
â”œâ”€â”€ package.json                 # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ vitest.config.js             # æµ‹è¯•é…ç½®
â””â”€â”€ README.md                    # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- GitHub è´¦å·
- GitHub Personal Access Tokenï¼ˆéœ€è¦ `repo` å’Œ `workflow` æƒé™ï¼‰

### éƒ¨ç½²æ­¥éª¤

#### 1. Fork æˆ–å…‹éš†ä»“åº“

```bash
git clone https://github.com/your-username/ikfast-online-generator.git
cd ikfast-online-generator
```

#### 2. é…ç½®ä»“åº“ä¿¡æ¯

ç¼–è¾‘ `web/config.js`ï¼Œä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

```javascript
export const CONFIG = {
  REPO_OWNER: 'your-username',           // æ›¿æ¢ä¸ºæ‚¨çš„ GitHub ç”¨æˆ·å
  REPO_NAME: 'ikfast-online-generator',  // æ›¿æ¢ä¸ºæ‚¨çš„ä»“åº“åç§°
  WORKFLOW_FILE: 'ikfast.yml',
  POLLING_INTERVAL: 5000,
  MAX_FILE_SIZE: 10 * 1024 * 1024,
  WORKFLOW_TIMEOUT: 30 * 60 * 1000
};
```

#### 3. å¯ç”¨ GitHub Pages

1. è¿›å…¥ä»“åº“çš„ **Settings** â†’ **Pages**
2. åœ¨ **Source** ä¸‹é€‰æ‹©ï¼š
   - Branch: `main`
   - Folder: `/web` æˆ– `/` (root)
3. ç‚¹å‡» **Save**
4. ç­‰å¾…å‡ åˆ†é’Ÿï¼ŒGitHub Pages å°†è‡ªåŠ¨éƒ¨ç½²

#### 4. è·å– Personal Access Token

1. è®¿é—® GitHub **Settings** â†’ **Developer settings** â†’ **Personal access tokens** â†’ **Tokens (classic)**
2. ç‚¹å‡» **Generate new token (classic)**
3. è®¾ç½® Token åç§°ï¼ˆå¦‚ "IKFast Generator"ï¼‰
4. é€‰æ‹©æƒé™ï¼š
   - âœ… `repo` (å®Œæ•´ä»“åº“è®¿é—®)
   - âœ… `workflow` (å·¥ä½œæµæƒé™)
5. ç‚¹å‡» **Generate token**
6. **é‡è¦**: å¤åˆ¶å¹¶ä¿å­˜ Tokenï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼‰

#### 5. è®¿é—®åº”ç”¨

è®¿é—®æ‚¨çš„ GitHub Pages åœ°å€ï¼š
```
https://your-username.github.io/ikfast-online-generator/
```

## ğŸ“˜ ä½¿ç”¨æŒ‡å—

### æ­¥éª¤ 1: è®¤è¯

1. åœ¨é¡µé¢é¡¶éƒ¨è¾“å…¥æ‚¨çš„ GitHub Personal Access Token
2. ç‚¹å‡» **éªŒè¯** æŒ‰é’®
3. éªŒè¯æˆåŠŸåï¼ŒToken å°†ä¿å­˜åœ¨å½“å‰ä¼šè¯ä¸­

### æ­¥éª¤ 2: ä¸Šä¼  URDF æ–‡ä»¶

1. ç‚¹å‡» **é€‰æ‹©æ–‡ä»¶** æŒ‰é’®
2. é€‰æ‹©æ‚¨çš„æœºå™¨äºº URDF æ–‡ä»¶ï¼ˆå¿…é¡»æ˜¯ `.urdf` æ‰©å±•åï¼Œâ‰¤10MBï¼‰
3. ç‚¹å‡» **ä¸Šä¼ ** æŒ‰é’®
4. ç³»ç»Ÿå°†è‡ªåŠ¨éªŒè¯æ–‡ä»¶å¹¶ä¸Šä¼ åˆ° GitHub ä»“åº“

### æ­¥éª¤ 3: æŸ¥çœ‹é“¾æ¥ä¿¡æ¯

1. ä¸Šä¼ æˆåŠŸåï¼Œç³»ç»Ÿè‡ªåŠ¨è§¦å‘é“¾æ¥ä¿¡æ¯æå–
2. ç­‰å¾…å‡ ç§’é’Ÿï¼Œé“¾æ¥ä¿¡æ¯è¡¨æ ¼å°†æ˜¾ç¤ºï¼š
   - **Index**: é“¾æ¥ç´¢å¼•
   - **Name**: é“¾æ¥åç§°
   - **Parent**: çˆ¶é“¾æ¥
3. æ ¹é“¾æ¥ï¼ˆæ— çˆ¶èŠ‚ç‚¹ï¼‰å’Œå¶é“¾æ¥ï¼ˆæ— å­èŠ‚ç‚¹ï¼‰ä¼šè¢«é«˜äº®æ˜¾ç¤º
4. ç‚¹å‡»è¡¨æ ¼è¡Œå¯è‡ªåŠ¨å¡«å……é“¾æ¥ç´¢å¼•

### æ­¥éª¤ 4: é…ç½®å‚æ•°

1. **Base Link Index**: è¾“å…¥è¿åŠ¨é“¾çš„åŸºåº§é“¾æ¥ç´¢å¼•
2. **End Effector Link Index**: è¾“å…¥æœ«ç«¯æ‰§è¡Œå™¨é“¾æ¥ç´¢å¼•
3. **IK Type**: é€‰æ‹©æ±‚è§£å™¨ç±»å‹ï¼ˆé»˜è®¤ä¸º `transform6d`ï¼‰
   - `transform6d`: å®Œæ•´çš„ 6D ä½ç½®å’Œå§¿æ€
   - `translation3d`: ä»… 3D ä½ç½®
   - å…¶ä»–ç±»å‹è¯·å‚è€ƒå·¥å…·æç¤º

### æ­¥éª¤ 5: ç”Ÿæˆæ±‚è§£å™¨

1. ç‚¹å‡» **ç”Ÿæˆ IKFast æ±‚è§£å™¨** æŒ‰é’®
2. ç³»ç»Ÿå°†è§¦å‘ GitHub Actions å·¥ä½œæµ
3. å®æ—¶æŸ¥çœ‹æ‰§è¡ŒçŠ¶æ€å’Œæ—¥å¿—è¾“å‡º
4. ç”Ÿæˆè¿‡ç¨‹é€šå¸¸éœ€è¦ 5-15 åˆ†é’Ÿ

### æ­¥éª¤ 6: ä¸‹è½½ç»“æœ

1. å·¥ä½œæµå®Œæˆåï¼Œä¸‹è½½æŒ‰é’®å°†å˜ä¸ºå¯ç”¨
2. ä¸‹è½½ **ikfast_solver.cpp** - ç”Ÿæˆçš„æ±‚è§£å™¨ä»£ç 
3. ä¸‹è½½ **build.log** - å®Œæ•´çš„æ„å»ºæ—¥å¿—
4. å°†æ±‚è§£å™¨ä»£ç é›†æˆåˆ°æ‚¨çš„ MoveIt é…ç½®ä¸­

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### âŒ ä¸Šä¼ å¤±è´¥ï¼š401 Unauthorized

**åŸå› **: Token æ— æ•ˆæˆ–å·²è¿‡æœŸ

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ Token æ˜¯å¦æ­£ç¡®å¤åˆ¶
- ç¡®è®¤ Token å…·æœ‰ `repo` å’Œ `workflow` æƒé™
- é‡æ–°ç”Ÿæˆæ–°çš„ Token

#### âŒ ä¸Šä¼ å¤±è´¥ï¼š403 Forbidden

**åŸå› **: æƒé™ä¸è¶³æˆ– API é€Ÿç‡é™åˆ¶

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®è®¤ Token å…·æœ‰ä»“åº“å†™å…¥æƒé™
- ç­‰å¾…å‡ åˆ†é’Ÿåé‡è¯•ï¼ˆå¯èƒ½æ˜¯é€Ÿç‡é™åˆ¶ï¼‰
- æ£€æŸ¥ä»“åº“é…ç½®æ˜¯å¦æ­£ç¡®

#### âŒ é“¾æ¥ä¿¡æ¯æå–å¤±è´¥

**åŸå› **: URDF æ–‡ä»¶æ ¼å¼é”™è¯¯æˆ–ç¼ºå°‘ mesh æ–‡ä»¶

**è§£å†³æ–¹æ¡ˆ**:
- éªŒè¯ URDF æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®
- ç¡®ä¿æ‰€æœ‰å¼•ç”¨çš„ mesh æ–‡ä»¶è·¯å¾„æ­£ç¡®
- æŸ¥çœ‹æ—¥å¿—ä¸­çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

#### âŒ IKFast ç”Ÿæˆå¤±è´¥

**åŸå› **: è¿åŠ¨é“¾ä¸æ»¡è¶³ IKFast è¦æ±‚

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥é€‰æ‹©çš„é“¾æ¥ç´¢å¼•æ˜¯å¦æ­£ç¡®
- ç¡®è®¤è¿åŠ¨é“¾æ˜¯ä¸²è”ç»“æ„ï¼ˆIKFast ä¸æ”¯æŒå¹¶è”æœºæ„ï¼‰
- å°è¯•ä¸åŒçš„ `iktype` é€‰é¡¹
- æŸ¥çœ‹æ„å»ºæ—¥å¿—ä¸­çš„è¯¦ç»†é”™è¯¯

#### âŒ å·¥ä½œæµè¶…æ—¶

**åŸå› **: ç”Ÿæˆè¿‡ç¨‹è¶…è¿‡ 30 åˆ†é’Ÿ

**è§£å†³æ–¹æ¡ˆ**:
- ç®€åŒ–æœºå™¨äººæ¨¡å‹
- æ£€æŸ¥ URDF æ–‡ä»¶æ˜¯å¦è¿‡äºå¤æ‚
- è”ç³»ç»´æŠ¤è€…æŠ¥å‘Šé—®é¢˜

#### âŒ ä¸‹è½½å¤±è´¥ï¼šArtifact æœªæ‰¾åˆ°

**åŸå› **: å·¥ä½œæµæœªæˆåŠŸå®Œæˆæˆ– Artifact å·²è¿‡æœŸ

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥å·¥ä½œæµçŠ¶æ€æ˜¯å¦ä¸º "completed"
- Artifact ä¿ç•™æœŸä¸º 7 å¤©ï¼Œè¿‡æœŸåéœ€é‡æ–°ç”Ÿæˆ
- æŸ¥çœ‹å·¥ä½œæµæ—¥å¿—ç¡®è®¤æ˜¯å¦æœ‰é”™è¯¯

### è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**: æ—¥å¿—æŸ¥çœ‹å™¨æ˜¾ç¤ºå®Œæ•´çš„æ‰§è¡Œè¿‡ç¨‹
2. **æ£€æŸ¥ GitHub Actions**: è®¿é—®ä»“åº“çš„ Actions æ ‡ç­¾æŸ¥çœ‹å·¥ä½œæµè¿è¡Œè¯¦æƒ…
3. **éªŒè¯ URDF**: ä½¿ç”¨ `check_urdf` å·¥å…·æœ¬åœ°éªŒè¯ URDF æ–‡ä»¶
4. **æµ‹è¯•ç¤ºä¾‹æ–‡ä»¶**: ä½¿ç”¨ `examples/` ç›®å½•ä¸­çš„ç¤ºä¾‹ URDF æµ‹è¯•ç³»ç»Ÿ

## ğŸ§ª å¼€å‘å’Œæµ‹è¯•

### å®‰è£…ä¾èµ–

```bash
npm install
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# è¿è¡Œå±æ€§æµ‹è¯•
npm run test:property

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡
npm run test:coverage
```

### æœ¬åœ°å¼€å‘

```bash
# å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆéœ€è¦å®‰è£… http-server æˆ–ç±»ä¼¼å·¥å…·ï¼‰
npx http-server web -p 8080

# è®¿é—® http://localhost:8080
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. **Fork ä»“åº“**
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯** (`git checkout -b feature/AmazingFeature`)
3. **æäº¤æ›´æ”¹** (`git commit -m 'Add some AmazingFeature'`)
4. **æ¨é€åˆ°åˆ†æ”¯** (`git push origin feature/AmazingFeature`)
5. **å¼€å¯ Pull Request**

### è´¡çŒ®ç±»å‹

- ğŸ› æŠ¥å‘Š Bug
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½å»ºè®®
- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ”§ ä¿®å¤é—®é¢˜
- âœ¨ æ·»åŠ æ–°åŠŸèƒ½
- ğŸ§ª æ·»åŠ æµ‹è¯•

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ ES6+ è¯­æ³•
- éµå¾ªç°æœ‰ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Š
- ä¸ºæ–°åŠŸèƒ½ç¼–å†™æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

### æäº¤ Bug æŠ¥å‘Š

è¯·åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š
- é—®é¢˜æè¿°
- å¤ç°æ­¥éª¤
- æœŸæœ›è¡Œä¸º
- å®é™…è¡Œä¸º
- æµè§ˆå™¨å’Œç‰ˆæœ¬
- ç›¸å…³æ—¥å¿—æˆ–æˆªå›¾

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- [OpenRAVE](http://openrave.org/) - æœºå™¨äººè‡ªåŠ¨åŒ–è™šæ‹Ÿç¯å¢ƒ
- [IKFast](http://openrave.org/docs/latest_stable/openravepy/ikfast/) - å¿«é€Ÿé€†è¿åŠ¨å­¦æ±‚è§£å™¨ç”Ÿæˆå™¨
- [MoveIt](https://moveit.ros.org/) - ROS è¿åŠ¨è§„åˆ’æ¡†æ¶
- [fishros2/openrave](https://hub.docker.com/r/fishros2/openrave) - OpenRAVE Docker é•œåƒ

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼š
- ğŸ“§ æäº¤ [Issue](https://github.com/your-username/ikfast-online-generator/issues)
- ğŸ’¬ å‚ä¸ [Discussions](https://github.com/your-username/ikfast-online-generator/discussions)
- ğŸ“– æŸ¥çœ‹ [Wiki](https://github.com/your-username/ikfast-online-generator/wiki)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼
